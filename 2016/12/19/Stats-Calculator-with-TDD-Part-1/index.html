<!DOCTYPE html>
<html lang=en>
<head>
    <meta charset="utf-8">
    
    <title>Stats Calculator with TDD Part 1 | Agile</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="I am going to demonstrate how to complete Stats Calculator with Test Driven Development.Before we start, let’s introduce you the three laws of TDD by Robert Martin.

You can’t write any production cod">
<meta property="og:type" content="article">
<meta property="og:title" content="Stats Calculator with TDD Part 1">
<meta property="og:url" content="http://seanyinx.github.io/2016/12/19/Stats-Calculator-with-TDD-Part-1/index.html">
<meta property="og:site_name" content="Agile">
<meta property="og:description" content="I am going to demonstrate how to complete Stats Calculator with Test Driven Development.Before we start, let’s introduce you the three laws of TDD by Robert Martin.

You can’t write any production cod">
<meta property="og:image" content="http://seanyinx.github.io/2016/12/19/Stats-Calculator-with-TDD-Part-1/tdd.stats.calculator.1.gif">
<meta property="og:image" content="http://seanyinx.github.io/2016/12/19/Stats-Calculator-with-TDD-Part-1/tdd.stats.calculator.2.gif">
<meta property="og:image" content="http://seanyinx.github.io/2016/12/19/Stats-Calculator-with-TDD-Part-1/tdd.stats.calculator.3.gif">
<meta property="og:image" content="http://seanyinx.github.io/2016/12/19/Stats-Calculator-with-TDD-Part-1/tdd.stats.calculator.4.gif">
<meta property="og:image" content="http://seanyinx.github.io/2016/12/19/Stats-Calculator-with-TDD-Part-1/tdd.stats.calculator.5.gif">
<meta property="og:image" content="http://seanyinx.github.io/2016/12/19/Stats-Calculator-with-TDD-Part-1/tdd.stats.calculator.6.gif">
<meta property="og:updated_time" content="2016-12-21T12:41:44.893Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Stats Calculator with TDD Part 1">
<meta name="twitter:description" content="I am going to demonstrate how to complete Stats Calculator with Test Driven Development.Before we start, let’s introduce you the three laws of TDD by Robert Martin.

You can’t write any production cod">
<meta name="twitter:image" content="http://seanyinx.github.io/2016/12/19/Stats-Calculator-with-TDD-Part-1/tdd.stats.calculator.1.gif">
    

    
        <link rel="alternate" href="/" title="Agile" type="application/atom+xml" />
    

    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/2.1.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    
    


</head>

<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                <i class="logo"></i>
                <span class="site-title">Agile</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/.">Home</a>
                
                    <a class="main-nav-link" href="/archives">Archives</a>
                
                    <a class="main-nav-link" href="/categories">Categories</a>
                
                    <a class="main-nav-link" href="/tags">Tags</a>
                
                    <a class="main-nav-link" href="/about">About</a>
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="https://www.gravatar.com/avatar/9efeab480386832ca6951317ee77a0d1" />
                            <i class="fa fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/.">Home</a></td>
                
                    <td><a class="main-nav-link" href="/archives">Archives</a></td>
                
                    <td><a class="main-nav-link" href="/categories">Categories</a></td>
                
                    <td><a class="main-nav-link" href="/tags">Tags</a></td>
                
                    <td><a class="main-nav-link" href="/about">About</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
                

<aside id="profile">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="https://www.gravatar.com/avatar/9efeab480386832ca6951317ee77a0d1?s=128" />
            <h2 id="name">seanyinx</h2>
            <h3 id="title">Architect &amp; Agile Consultant</h3>
            <span id="location"><i class="fa fa-map-marker"></i>Beijing, China</span>
            <a id="follow" target="_blank" href="https://github.com/seanyinx/">FOLLOW</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                3
                <span>posts</span>
            </div>
            <div class="article-info-block">
                3
                <span>tags</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    <td>
                        <a href="http://github.com/seanyinx" target="_blank" title="github" class=tooltip>
                            <i class="fa fa-github"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="twitter" class=tooltip>
                            <i class="fa fa-twitter"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="facebook" class=tooltip>
                            <i class="fa fa-facebook"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="dribbble" class=tooltip>
                            <i class="fa fa-dribbble"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/" target="_blank" title="rss" class=tooltip>
                            <i class="fa fa-rss"></i>
                        </a>
                    </td>
                    
                </tr>
            </table>
        </div>
        
    </div>
</aside>

            
            <section id="main"><article id="post-Stats-Calculator-with-TDD-Part-1" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
            Stats Calculator with TDD Part 1
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2016/12/19/Stats-Calculator-with-TDD-Part-1/">
            <time datetime="2016-12-19T15:19:42.000Z" itemprop="datePublished">2016-12-19</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/TDD/">TDD</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/TDD/">TDD</a>, <a class="tag-link" href="/tags/Testing/">Testing</a>, <a class="tag-link" href="/tags/XP/">XP</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>I am going to demonstrate how to complete Stats Calculator with Test Driven Development.<br>Before we start, let’s introduce you the <a href="http://programmer.97things.oreilly.com/wiki/index.php/The_Three_Laws_of_Test-Driven_Development" target="_blank" rel="external">three laws of TDD</a> by <a href="https://en.wikipedia.org/wiki/Robert_Cecil_Martin" target="_blank" rel="external">Robert Martin</a>.</p>
<ol>
<li>You can’t write any production code until you have first written a failing unit test.</li>
<li>You can’t write more of a unit test than is sufficient to fail, and not compiling is failing.</li>
<li>You can’t write more production code than is sufficient to pass the currently failing unit test.</li>
</ol>
<p>It reads unnatural at first, but I hope you will understand better after reading this post.</p>
<a id="more"></a>
<h2 id="Stats-Calculator"><a href="#Stats-Calculator" class="headerlink" title="Stats Calculator"></a>Stats Calculator</h2><p>The details of this kata can be found in the link: <a href="https://github.com/garora/TDD-Katas#calc-stats" target="_blank" rel="external">Calc Stats</a>.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">Calc Stats:</div><div class="line"></div><div class="line">Your task is to process a sequence of integer numbers</div><div class="line">to determine the following statistics:</div><div class="line"></div><div class="line">o) minimum value</div><div class="line">o) maximum value</div><div class="line">o) number of elements in the sequence</div><div class="line">o) average value</div><div class="line"></div><div class="line">For example: 6, 9, 15, -2, 92, 11</div><div class="line"></div><div class="line">o) minimum value = -2</div><div class="line">o) maximum value = 92</div><div class="line">o) number of elements in the sequence = 6</div><div class="line">o) average value = 18.166666</div></pre></td></tr></table></figure></p>
<p>Let’s start with finding the minimum value.</p>
<h3 id="1-Write-the-1st-Failing-Test"><a href="#1-Write-the-1st-Failing-Test" class="headerlink" title="1. Write the 1st Failing Test"></a>1. Write the 1st Failing Test</h3><p>It’s recommended to write the 1st failing test as simple as possible and only partially cover the requirement, since we have no production code to start with.<br>In our case, the simplest case is to find the minimum from a single element.</p>
<p>Make sure you run the failing test case before proceeding with production code, in order to make sure it is effective.<br><img src="/2016/12/19/Stats-Calculator-with-TDD-Part-1/tdd.stats.calculator.1.gif" alt="Write The 1st Failing Test"></p>
<h3 id="2-Make-the-Test-Pass"><a href="#2-Make-the-Test-Pass" class="headerlink" title="2. Make the Test Pass"></a>2. Make the Test Pass</h3><p>At this moment, our goal is just to make the 1st test case pass. We may have a rough design concept in mind, but we do not just put the entire design to code, since we are not sure if it’s a good one.</p>
<p>One of the most important practices in Agile is <a href="https://www.agilealliance.org/glossary/simple-design/" target="_blank" rel="external">Simple Design</a>. It’s better to evolve our code gradually by writing the minimum code that make the test cases pass. Let the final solution emerge.<br><img src="/2016/12/19/Stats-Calculator-with-TDD-Part-1/tdd.stats.calculator.2.gif" alt="Make the Test Pass"></p>
<h3 id="3-Write-a-More-General-Failing-Test"><a href="#3-Write-a-More-General-Failing-Test" class="headerlink" title="3. Write a More General Failing Test"></a>3. Write a More General Failing Test</h3><p>Now we can expand our tests to cover more general cases.<br><img src="/2016/12/19/Stats-Calculator-with-TDD-Part-1/tdd.stats.calculator.3.gif" alt="Write a More General Failing Test"></p>
<h3 id="4-Satisfy-The-Requirement"><a href="#4-Satisfy-The-Requirement" class="headerlink" title="4. Satisfy The Requirement"></a>4. Satisfy The Requirement</h3><p><img src="/2016/12/19/Stats-Calculator-with-TDD-Part-1/tdd.stats.calculator.4.gif" alt="Satisfy The Requirement"></p>
<h3 id="5-Write-a-Boundary-Test-Case"><a href="#5-Write-a-Boundary-Test-Case" class="headerlink" title="5. Write a Boundary Test Case"></a>5. Write a Boundary Test Case</h3><p>The happy path works fine now, but we have to take care of the boundary case, an empty sequence of integers. There’s nothing much we can do except throwing an exception to tell the caller that something is wrong in this case. It’s a good practice to make sure the exception message is meaningful too, so that the issue can found easily identified in logs.<br><img src="/2016/12/19/Stats-Calculator-with-TDD-Part-1/tdd.stats.calculator.5.gif" alt="Write a Boundary Test Case"></p>
<h3 id="6-Implement-the-Boundary-Case"><a href="#6-Implement-the-Boundary-Case" class="headerlink" title="6. Implement the Boundary Case"></a>6. Implement the Boundary Case</h3><p><img src="/2016/12/19/Stats-Calculator-with-TDD-Part-1/tdd.stats.calculator.6.gif" alt="Implement the Boundary Case"></p>
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>Now we have seen how we can use TDD to not only fulfill the requirement, but also evolve our solution to a good design.</p>
<p>A very important lesson here is to start with the simplest test case possible, and gradually improve our code to a better design. It’s very easy to get stuck trying to come up with a perfect solution in the first place.</p>
<p>We only completed finding the minimum of a sequence of integers today. Next, we will proceed with the rest of the requirements.</p>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://seanyinx.github.io/2016/12/19/Stats-Calculator-with-TDD-Part-1/" data-id="ciwxl1nol0003y8z7li3n1bso" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://seanyinx.github.io/2016/12/19/Stats-Calculator-with-TDD-Part-1/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://seanyinx.github.io/2016/12/19/Stats-Calculator-with-TDD-Part-1/">Comments</a>
    

        </footer>
    </div>
    
        
<nav id="article-nav">
    
    
        <a href="/2016/12/18/Test-Driven-Development-Introduction/" id="article-nav-older" class="article-nav-link-wrap">
            <strong class="article-nav-caption">Older</strong>
            <div class="article-nav-title">Test Driven Development Introduction</div>
        </a>
    
</nav>


    
</article>


    
    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>

</section>
            
                <aside id="sidebar">
   
        
    <div class="widget-wrap">
        <h3 class="widget-title">recent</h3>
        <div class="widget">
            <ul id="recent-post" class="no-thumbnail">
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/TDD/">TDD</a></p>
                            <p class="item-title"><a href="/2016/12/19/Stats-Calculator-with-TDD-Part-1/" class="title">Stats Calculator with TDD Part 1</a></p>
                            <p class="item-date"><time datetime="2016-12-19T15:19:42.000Z" itemprop="datePublished">2016-12-19</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/TDD/">TDD</a></p>
                            <p class="item-title"><a href="/2016/12/18/Test-Driven-Development-Introduction/" class="title">Test Driven Development Introduction</a></p>
                            <p class="item-date"><time datetime="2016-12-18T03:29:15.000Z" itemprop="datePublished">2016-12-18</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/2016/12/18/Hello-World/" class="title">Hello World</a></p>
                            <p class="item-date"><time datetime="2016-12-18T03:26:00.000Z" itemprop="datePublished">2016-12-18</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">categories</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/TDD/">TDD</a><span class="category-list-count">2</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">archives</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a><span class="archive-list-count">3</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">tags</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/TDD/">TDD</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Testing/">Testing</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/XP/">XP</a><span class="tag-list-count">2</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">tag cloud</h3>
        <div class="widget tagcloud">
            <a href="/tags/TDD/" style="font-size: 10px;">TDD</a> <a href="/tags/Testing/" style="font-size: 10px;">Testing</a> <a href="/tags/XP/" style="font-size: 10px;">XP</a>
        </div>
    </div>

    
        
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">links</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://hexo.io">Hexo</a>
                    </li>
                
            </ul>
        </div>
    </div>


    
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>
            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2016 Sean Yin<br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
        </div>
    </div>
</footer>
        
    
    <script>
    var disqus_config = function () {
        
            this.page.url = 'http://seanyinx.github.io/2016/12/19/Stats-Calculator-with-TDD-Part-1/';
        
        this.page.identifier = 'Stats-Calculator-with-TDD-Part-1';
    };
    (function() { 
        var d = document, s = d.createElement('script');  
        s.src = '//' + 'hexo-theme-icarus' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>



    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>